@model IEnumerable<BasketballTickets.Models.ViewModels.GameViewModel>

@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{
    ViewData["Title"] = "Games";
}

<h2 class="center center-bold">@ViewData["GamesTitle"]</h2>

@if (SignInManager.IsSignedIn(User) && User.IsInRole("Admin"))
{ 
    <p>
        <button class="btn btn-primary">
            <a asp-action="Create"><span class="glyphicon glyphicon-plus-sign"></span> Create New </a>
        </button>
    </p>
}

<div class="container">
    @foreach (var item in Model)
    {
        <div id="game-selection" class="row colored-border" onclick="location.href = '@(Url.Action("Details", "Games", new { id = item.Game.Id }))'">
            <div class="col-md-3">
                <p>@item.DayOfWeek</p>
                <h3 class="dayNumber bold">@item.DayOfMonth</h3>
                <p>@item.TimeOfDay</p>
                <p>@item.Venue</p>
            </div>
            <div class="col-md-6">
                <br /><br />
                <div class="row">
                    <div class="col-md-3">
                        <text class="bold">@item.Game.AwayTeam.City</text>
                        <br />
                        <text class="bold">@item.Game.AwayTeam.Name</text>
                    </div>
                    <div class="col-md-2">
                        <img src="@item.Game.AwayTeam.LogoPath" width="80px" height="64px" asp-append-version="true">
                    </div>
                    <div class="col-md-1 center">
                        <br />
                        <text class="bold">@@</text>
                    </div>
                    <div class="col-md-2">
                        <img src="@item.Game.HomeTeam.LogoPath" width="80px" height="64px" asp-append-version="true">
                    </div>
                    <div class="col-md-3">
                        <text class="bold">@item.Game.HomeTeam.City</text>
                        <br />
                        <text class="bold">@item.Game.HomeTeam.Name</text>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <br /><br />
                @if (SignInManager.IsSignedIn(User) && User.IsInRole("Admin"))
                {
                    <div class="btn-group btn-group-toggle">
                        <label class="btn btn-primary">
                            <a asp-action="Edit" asp-route-id="@item.Game.Id"><span class="glyphicon glyphicon-cog"></span> Edit</a>
                        </label>
                        <label class="btn btn-primary">
                            <a asp-action="Delete" asp-route-id="@item.Game.Id"><span class="glyphicon glyphicon-trash"></span> Delete</a>
                        </label>
                    </div>
                }
                else
                {
                    <button class="btn btn-success">
                        <a>Buy Tickets <span class="glyphicon glyphicon-tag"></span></a>
                    </button>
                }
            </div>
        </div> 
    }
</div>
<!--
@foreach (var item in Model)
{
    <tr class="colored-border" onclick="location.href = '@(Url.Action("Details", "Games", new { id = item.Game.Id }))'">
        <td>
            @Html.DisplayFor(modelItem => item.Game.Date)
            
        </td>
        <td>
            <img src="@item.Game.AwayTeam.LogoPath" width="100" height="75" asp-append-version="true" />
            <text class="center-bold"> @@ </text>
            <img src="@item.Game.HomeTeam.LogoPath" width="100" height="75" asp-append-version="true" />
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Game.GameType.Name)
        </td>
        <td>
            @if (SignInManager.IsSignedIn(User) && User.IsInRole("Admin"))
            {
                <a asp-action="Edit" asp-route-id="@item.Game.Id">Edit</a><span> |</span>
                <a asp-action="Delete" asp-route-id="@item.Game.Id">Delete</a>
            }
        </td>
    </tr>
}
-->
